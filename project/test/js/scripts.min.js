// Was made by Pagas15
// My site - https://pagas15.github.io
// $('.advantages-slider').slick({
//   dots: true,
//   arrows: false,
//   // infinite: false,
//   speed: 300,
//   slidesToShow: 3,
// })


const sliers = () => {
  let advantagesSwiper = new Swiper('.advantages-slider', {
    autoplay: {
      delay: 5000,
    },
    direction: 'horizontal',
    slidesPerView: 3,
    spaceBetween: 0,
    pagination: {
      el: '.swiper-pagination',
      clickable: true,
    },
    navigation: {
      nextEl: '.swiper-button-next',
      prevEl: '.swiper-button-prev',
    },
    loop: true,
  });
  let sliderStatic = new Swiper('.slider-static__slider', {
    autoplay: {
      delay: 4000,
    },
    direction: 'horizontal',
    slidesPerView: 4,
    spaceBetween: 0,
    loop: true,
  });
};

const accordion = (elemList, elemItem, elemBtn) => {
  if(document.querySelector(elemList)){
    let listItem = document.querySelectorAll(elemItem);
    document.querySelector(elemList).addEventListener('click',e=>{
      e.preventDefault();
      let elem = e.target;
      if(elem.closest(elemBtn)){
        let elemPar = elem.closest(elemItem);
        if(elemPar.classList.contains('active')){
          listItem.forEach(item=>{
            item.classList.remove('active')
          })
        } else {
          listItem.forEach(item=>{
            item.classList.remove('active')
          })
          elemPar.classList.add('active')
        }
      }
    })
  }
}

const clickBel = (elemBtn, elemItem, classElem) => {
  let btnElem = document.querySelector(elemBtn),
      itemElem = document.querySelector(elemItem);
  btnElem.addEventListener('click', e=>{
    e.preventDefault();
    itemElem.classList.toggle('active');
  })
  itemElem.addEventListener('click', e=>{
    e.preventDefault();
    if(e.target.classList.contains(classElem)){
      itemElem.classList.remove('active');
    };
  });
};

const selecter = () => {
  document.querySelectorAll('.select').forEach(item=>{
    item.addEventListener('click',e=>{
      let elem = e.target;
      if(elem.closest('.select__btns') || elem.closest('.select::before')){
        item.classList.toggle('active');
      }
      if (elem.closest('.select__btn')) {
        let sad = elem.closest('.select__btn');
        let ipt = item.querySelector('.select__btns')
        item.classList.remove('active');
        ipt.innerHTML = sad.innerHTML;
        ipt.dataset.value = sad.dataset.name;
      }
    })
  })
}

const init = () => {
  clickBel('#langBtn', "#langList", 'option__opt-btn');
  clickBel('#valBtn', "#valList", 'option__opt-btn');
  sliers();
  accordion('#faq__atr-list','.faq__atr-item','.faq__atr-btn');
  selecter();
};


window.addEventListener('DOMContentLoaded', init)